
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tools &#8212; An empirical study on the calibration of the GEOtop model using supercomputers</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://stefanocampanella.github.io/MHPC-project/methodology/tools.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Implementation" href="implementation.html" />
    <link rel="prev" title="Hyperparameter optimization" href="../problem/hyperopt.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="https://stefanocampanella.github.io/MHPC-project/methodology/tools.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Tools" />
<meta property="og:description" content="Tools  Code reuse is the Holy Grail of Software Engineering  Douglas Crockford  The Python Programming Language  Python is an interpreted, duck-typed language (" />
<meta property="og:image"       content="https://stefanocampanella.github.io/MHPC-project/_static/logo.png" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">An empirical study on the calibration of the GEOtop model using supercomputers</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction/prologue.html">
   Prologue
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction/geotop.html">
   Brief Introduction to GEOtop
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Motivations
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../motivations/calibration.html">
   GEOtop calibration or finding the needle in the haystack
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../motivations/hpc.html">
   The need for HPC
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Problem
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../problem/problem.html">
   Formalish definition of the problem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problem/hyperopt.html">
   Hyperparameter optimization
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Methodology
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="implementation.html">
   Implementation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Results
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../results/scaling.html">
   Scaling Analysis and Modeling
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../results/examples/plots.html">
     Example of Plots using GEOtoPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../results/examples/calibration.html">
     Example of Calibration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../results/examples/sensitivity_analysis.html">
     Example of Sensitivity Analysis
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../results/conclusions.html">
   Conclusions
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/methodology/tools.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-python-programming-language">
   The Python Programming Language
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-jupyter-ecosystem">
   The Jupyter Ecosystem
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#geotopy">
   GEOtoPy
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calibration-and-sensitivity-analysis-using-nevergrad-and-salib">
   Calibration and Sensitivity Analysis using Nevergrad and SALib
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parallel-computing-in-python">
   Parallel Computing in Python
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#high-performance-computing-in-python-using-dask">
   High-Performance Computing in Python using Dask
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deploying-python-software-on-hpc">
   Deploying Python Software on HPC
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="tools">
<h1>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h1>
<blockquote class="epigraph">
<div><p>Code reuse is the Holy Grail of Software Engineering</p>
<p class="attribution">—Douglas Crockford</p>
</div></blockquote>
<div class="section" id="the-python-programming-language">
<h2>The Python Programming Language<a class="headerlink" href="#the-python-programming-language" title="Permalink to this headline">¶</a></h2>
<p>Python is an interpreted, duck-typed language (footnote: however optional type annotations are available from version 3.6) with a terse syntax, allowing for fast-paced development. Python programs can easily integrate code written in other languages, such as C (the language of the reference implementation CPython), and for this reason, it is said to be a glue language. Moreover, it has a rich standard library and a full gamut of third-party libraries and tools. In 2020 Python has been the third language in the TIOBE index and its popularity has grown steadily in the past years, especially in machine learning and data science.</p>
<p>The usage of Python in scientific computing is nowadays a consolidated practice. Among its reasons, there is the existence of mature, fully-featured, and open-source libraries like Numpy, Matplotlib, and Pandas, respectively, for numerical computing, plotting, and manipulation of tabular data. Thanks to these libraries, Python became a popular alternative to MATLAB and R.</p>
<p>Indeed, Python is a right candidate when choosing a programming language in which writing general and extensible code, yet to be used by scientists without formal training in computer science. In that sense, Python can be viewed as a glue language also in terms of the developers’ and users’ level of expertise. However, when it comes to the typical workloads found in numerical computing (the so-called number-crunching), Python shows the same shortcoming of MATLAB. Due to the dynamic nature of the language, repeated floating-point operations on contiguous memory or other kinds of tight loops, which can be very fast on modern CPU architectures, in Python take far longer than in other compiled languages. Although comparing different programming languages’ performance is often unmeaning, a quick look at the computer language benchmarks game (TODO: put a link here) tells us that is reasonable to expect a pure Python implementation of these CPU-bounded algorithms to be between ten and one thousand times slower than the same in C. So how come that Python is widely adopted in numerical computing?</p>
<p>The answer is similar to the one for the case of MATLAB. In both cases, the dynamic programming language overcomes these shortcomings by wrapping and calling some more efficient code, usually written in Fortran, C or C++. It is possible to do so because the distribution of the workload in number-crunching codes is often peaked: most of the time is spent on a small fraction of the code. Hence it is possible to optimize the whole program by rewriting a few routines in another language.  In Python, optimized mathematical routines are available in the Numpy library, and it is often possible to obtain a sensible speedup by rewriting unoptimized code in terms of these functions acting on arrays and avoiding loops (a paradigm sometimes called array programming). In worst cases, a large part of the program needs to be rewritten, and Python serves just as a prototyping language.</p>
<p>This problem is typically referred to as the two-language problem, and a new programming language named Julia has been recently developed to solve this problem. The author’s opinion is that Julia will probably become the dominant language in scientific computing in the future. However, this will not happen too soon because of code dependencies and users inertia.</p>
<p>The reasons why the Python programming language has been chosen for the project reflect the general facts listed above:
the need for a simple language known by the scientists that will continue to work with the code in the future,
the capability of working with the operating system and external processes natively,
the availability of libraries for derivative-free optimization and distributed computing.</p>
<p>These points will be more thoroughly discussed in the following sections.</p>
<p>Finally, almost all of the calibration time is spent in the execution of the model and the overhead caused by a suboptimal optimizer (footnote: sorry for the wordplay), for example, due to the programming language used, is negligible. This statement, which has been discussed in the previous chapters, will be given a quantitative meaning in the next ones.</p>
</div>
<div class="section" id="the-jupyter-ecosystem">
<h2>The Jupyter Ecosystem<a class="headerlink" href="#the-jupyter-ecosystem" title="Permalink to this headline">¶</a></h2>
<p>The Jupyter Notebook is an open-source, interactive web application that allows writing executable documents, called notebooks, containing rich text, code and visualizations.</p>
<p>Jupyter Notebook is language-agnostic and can include code written in various languages, such as Python, R, Julia or C++. The code is executed on a language-specific kernel, which is an instance of an interpreter connected to Jupyter via ZeroMQ, an asynchronous messaging library.</p>
<p>Notebooks are stored as text files and the Jupyter Notebook file format is defined via a JSON schema. For historical reasons, their extension is <code class="docutils literal notranslate"><span class="pre">ipynb</span></code> (the Python kernel is called IPython). Notebooks are divided into cells, which can be of different types. Code cells can be evaluated and the value yielded by the last statement of a cell is captured by Jupyter Notebook, which by default then renders it as HTML, together with the standard output and error collected during execution. Normally, the output of a cell is stored within the notebook. Also, the order of execution of the code cells of a notebook is arbitrary, but the execution count of a cell is stored within its metadata.</p>
<p>The previous one is an important point: Jupyter Notebook defines both a model of execution and a file format.</p>
<p>The execution of a notebook is stateful: the same notebook can be executed twice by the same kernel and obtain different results. This is because the internal state of the kernel can change between executions. Indeed, for this reason, Jupyter Notebook users often need to restart the kernel and re-evaluate the code cells. This hidden state has been criticized and other implementations of reactive notebooks exist, the most notable is <code class="docutils literal notranslate"><span class="pre">Pluto.jl</span></code> for Julia.</p>
<p>Since the file format is a JSON dictionary, binary data must use a binary-to-text encoding, which introduces an overhead. Furthermore, notebooks files badly integrate with version control systems (<code class="docutils literal notranslate"><span class="pre">Pluto.jl</span></code> also tries to solve this problem).</p>
<p>Since late 2018, the Jupyter Notebook has been integrated into JupyterLab, an extensible IDE-like interface combining the Jupyter Notebook with a terminal, a text editor and a file browser. However, this new interface is completely backwards compatible.</p>
<p>Jupyter Notebook and JupyterLab are today used by a vast community of scientific programmers, data scientists, and educators. Various projects integrate and extend JupyterLab, for example, to parametrize the execution of notebooks (Papermill), retrieve data from notebooks (Scrapbook) or produce complex, publication-quality documents (Jupyter Book).</p>
</div>
<div class="section" id="geotopy">
<h2>GEOtoPy<a class="headerlink" href="#geotopy" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="calibration-and-sensitivity-analysis-using-nevergrad-and-salib">
<h2>Calibration and Sensitivity Analysis using Nevergrad and SALib<a class="headerlink" href="#calibration-and-sensitivity-analysis-using-nevergrad-and-salib" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="parallel-computing-in-python">
<h2>Parallel Computing in Python<a class="headerlink" href="#parallel-computing-in-python" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="high-performance-computing-in-python-using-dask">
<h2>High-Performance Computing in Python using Dask<a class="headerlink" href="#high-performance-computing-in-python-using-dask" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="deploying-python-software-on-hpc">
<h2>Deploying Python Software on HPC<a class="headerlink" href="#deploying-python-software-on-hpc" title="Permalink to this headline">¶</a></h2>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./methodology"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../problem/hyperopt.html" title="previous page">Hyperparameter optimization</a>
    <a class='right-next' id="next-link" href="implementation.html" title="next page">Implementation</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Stefano Campanella<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>