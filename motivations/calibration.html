
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GEOtop calibration &#8212; An empirical study on the calibration of the GEOtop model using supercomputers</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://stefanocampanella.github.io/MHPC-project/motivations/calibration.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The need for HPC" href="hpc.html" />
    <link rel="prev" title="Brief Introduction to GEOtop" href="../introduction/geotop.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="https://stefanocampanella.github.io/MHPC-project/motivations/calibration.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="GEOtop calibration" />
<meta property="og:description" content="GEOtop calibration  As previously discussed, GEOtop has many parameters. Their large number is the result of assembling many different submodels of statistical," />
<meta property="og:image"       content="https://stefanocampanella.github.io/MHPC-project/_static/logo.png" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">An empirical study on the calibration of the GEOtop model using supercomputers</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction/prologue.html">
   Prologue
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Introduction and Motivations
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction/geotop.html">
   Brief Introduction to GEOtop
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   GEOtop calibration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hpc.html">
   The need for HPC
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Problem, Methodology and Implementation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../problem/problem.html">
   Formal Definition of the Problem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problem/hyperopt.html">
   Hyperparameter optimization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../methodology/tools.html">
   Tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../methodology/implementation.html">
   Implementation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Results
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../results/scaling.html">
   Scaling Analysis and Modeling
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../results/examples/plots.html">
     Example of Plots using GEOtoPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../results/examples/calibration.html">
     Example of Calibration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../results/examples/sensitivity_analysis.html">
     Example of Sensitivity Analysis
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../results/conclusions.html">
   Conclusions
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/motivations/calibration.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="geotop-calibration">
<h1>GEOtop calibration<a class="headerlink" href="#geotop-calibration" title="Permalink to this headline">¶</a></h1>
<p>As previously discussed, GEOtop has many parameters. Their large number is the result of assembling many different submodels of statistical, physical (i.e. from first principles) and phenomenological nature. Not all of these parameters can be directly measured with an instrument or inferred in some other way than calibration. This fact is especially actual for the ones found in phenomenological relations, think for example to the Van Genuchten equation for soil retention. Furthermore, even when there is a straightforward experimental procedure to determine them, their value is affected by uncertainties, which could be large.</p>
<p>One could think that there exist some default values which describe the average system and that, with due exceptions, these values would produce meaningful results once fed into the model or, in short, that these parameters simply need fine-tuning. However, he would fool himself.</p>
<p>Indeed, GEOtop is very sensitive to the values of its parameters: the outputs of a simulation can change wildly, and without carefully chosen parameters, the results are entirely meaningless. Hence its predictive power is strictly related to a good calibration.</p>
<p>But what it means to calibrate the model? In the intuitive idea of “finding the values of the inputs whose outputs better reproduce the observations” there is a certain degree of hand waving. From a practical point of view, one faces himself with the following questions:</p>
<ol class="simple">
<li><p>How do I compare the time series produced by the model with the experimental data?</p></li>
<li><p>How do I choose how many and which input parameters I need to calibrate?</p></li>
<li><p>Which optimization algorithm and hyperparameters should I choose?</p></li>
<li><p>How much computational resources do I need?</p></li>
<li><p>How long should I wait for the results?</p></li>
<li><p>Are they meaningful?</p></li>
<li><p>And finally, is there a way to get the same or better ones with fewer resources, i.e. waiting less or using less
computational power?</p></li>
</ol>
<p>This task, namely the calibration of a model, is more an art than a science. But if it can’t be a science, then it would be nice at least to have some hints and heuristics. Indeed, this is precisely the purpose of this work: trying to understand and automate the calibration process or some parts of it. Before diving in, let’s consider the challenges that calibration entail.</p>
<p>The multitude of parameters translates into dimensionality curse, i.e. the exponential growth of the volume of the search space with respect to the number of parameters. However, the dimensionality curse is not an obstacle per se; think of neural networks. Yet, neural networks have two peculiar properties. On the one hand, they are easily differentiable with respect to their parameters; on the other wherever you start from, there is always a good set of parameters nearby.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As noted in a <a class="reference external" href="https://news.ycombinator.com/item?id=24835336">recent article</a> posted on Hacker News on our intuition around neural networks, it is implausible that local optima exist in such high dimensional spaces. Endowed with the gargantuan dimensionality of models like GTP3, the concept of direction (and distance) assumes a statistical meaning: just by chance, there will always be a direction along which you could move to smaller values of the cost function.</p>
</div>
<p>The first point is not a real impediment if we neglect the categorical parameters on which GEOtop might depend. Indeed, we could always use some numerical differentiation scheme (supposing that there are no threats of numerical instability). However, the second is much more peculiar. Indeed the situation for GEOtop is very different<a class="footnote-reference brackets" href="#hyperopt" id="id1">1</a>.</p>
<p>If one could put himself in the parameters space of GEOtop, and look at the cost function, he would see hills and canyons, craters where the model crashes, swamps where it doesn’t converge, mirages of oasis with unphysical parameters, and deadly desert plateaus where one moves from meaningless outputs to equally meaningless outputs.</p>
<p>In this lumpy and bumpy landscape, moving towards the direction of steepest descent would lead, in the best scenario, to a useless local optimum.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>However, at the end of a good calibration, we might have a good prior. In this case, it would make sense to perform a local optimization search. In principle, this would boost the performance of the calibration strategy. Unfortunately, there was no time to develop this idea.</p>
</div>
<p>Hence if we want to find the holy grail of global optimum (or a local minimum with decent performance), we need to roam and wander, jumping here and there, with increasing confidence on our next guess as we grasp some (statistical) knowledge of the shape of the loss function.</p>
<p>However, this process is very much time consuming: for the kind of simulations with which we are involved, each sampling takes about one minute, which leads to the next chapter.</p>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="hyperopt"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>But there is a connection with some tasks in Machine Learning that will come up later.</p>
</dd>
</dl>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./motivations"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../introduction/geotop.html" title="previous page">Brief Introduction to GEOtop</a>
    <a class='right-next' id="next-link" href="hpc.html" title="next page">The need for HPC</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Stefano Campanella<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>